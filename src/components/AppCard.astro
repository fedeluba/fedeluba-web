---
interface Props {
  title: string;
  description: string;
  url: string;
  image?: string;
  stack: string[];
  index?: number;
}

const { title, description, url, image, stack, index = 0 } = Astro.props;
---

<a 
  href={url}
  target="_blank"
  rel="noopener noreferrer"
  class="group block rounded-xl border border-[var(--color-border)] bg-[var(--color-card)] p-5 no-underline transition-base hover:border-[var(--color-text-muted)] hover:shadow-lg hover:shadow-black/5 animate-fade-in-up"
  style={`animation-delay: ${index * 100}ms`}
>
  <div class="flex items-start gap-4">
    {image && (
      <div class="shrink-0 size-12 rounded-xl overflow-hidden bg-[var(--color-bg-secondary)] ring-1 ring-[var(--color-border)]">
        <img 
          src={image} 
          alt={`${title} logo`} 
          class="size-full object-cover"
        />
      </div>
    )}
    <div class="flex-1 min-w-0">
      <h3 class="font-sans text-xl font-medium text-[var(--color-text)] group-hover:text-[var(--color-accent)] transition-base">
        {title}
        <svg 
          class="ml-1 inline-block size-3.5 opacity-0 -translate-x-1 transition-base group-hover:opacity-100 group-hover:translate-x-0" 
          fill="none" 
          viewBox="0 0 24 24" 
          stroke="currentColor" 
          stroke-width="2"
        >
          <path d="M7 17L17 7M17 7H7M17 7v10" />
        </svg>
      </h3>
      <p class="mt-1 text-sm leading-relaxed text-[var(--color-text-secondary)]">
        {description}
      </p>
      <div class="mt-3 flex flex-wrap gap-1.5">
        {stack.map((tech) => (
          <span class="inline-flex items-center rounded-md bg-[var(--color-bg-secondary)] px-2 py-0.5 font-mono text-xs text-[var(--color-text-muted)]">
            {tech}
          </span>
        ))}
      </div>
    </div>
  </div>
</a>
